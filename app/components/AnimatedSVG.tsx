import { motion, useAnimation } from "framer-motion";
import { useEffect } from "react";

export default function AnimatedSVG() {
  const controls = useAnimation();

  useEffect(() => {
    // Sequence: first animate the stroke, then the fill
    controls.start({
      pathLength: 1,
      transition: { duration: 10, ease: "easeInOut" }
    })

        controls.start({
      transition: { delay: 1, duration: 3, ease: "easeInOut" },
      fillOpacity: 1,
    })
  }, [controls]);

  // useEffect(() => {
  //   // Sequence: first animate the stroke, then the fill
  //   controls.start({
  //     pathLength: 1,
  //     transition: { delay: .5, duration: 25, ease: "linear" },
  //   }).then(() => {
  //     controls.start({
  //       transition: { duration: 1, ease: "linear" },
  //       strokeOpacity: 0,
  //     })
  //   });
    

  // }, [controls]);

  return (
    <div className="w-full h-full"
    >
      <motion.svg
        viewBox="0 0 614 97"
        xmlns="http://www.w3.org/2000/svg"
      >
        <defs>
          <linearGradient id="gradientStroke" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="7.47%" stopColor="#00C2FF" />
            <stop offset="106.04%" stopColor="#0038FF" />
          </linearGradient>
        </defs>
        <motion.path
          d="M25.8411 62.2594C27.2547 70.3551 32.9089 75.4953 42.4182 75.4953C49.229 75.4953 53.7266 72.7967 53.5981 67.7851C53.3411 62.7734 49.229 60.2033 37.535 57.5047C14.5327 52.236 2.45327 43.6262 2.45327 28.9766C2.45327 11.6285 17.3598 0.705631 40.2336 0.705631C61.1799 0.705631 75.7009 13.4276 77.8855 32.8318L53.0841 33.8598C52.3131 25.507 47.3014 20.6238 39.4626 20.6238C32.2663 20.6238 27.3832 24.0935 28.0257 29.4907C28.4112 34.8879 34.8364 37.2009 43.4462 39C66.1916 43.2407 79.042 52.493 79.042 67.3995C79.042 85.0047 63.75 95.5421 42.0327 95.5421C18.2593 95.5421 2.06776 83.2056 0.782709 63.4159L25.8411 62.2594ZM81.7969 94L114.694 2.7617H143.351L176.248 94H150.547L145.407 78.965H112.509L107.369 94H81.7969ZM119.192 59.3037H138.853L129.087 30.5187L119.192 59.3037ZM187.693 2.7617H213.008V94H187.693V2.7617ZM251.352 62.2594C252.765 70.3551 258.419 75.4953 267.929 75.4953C274.74 75.4953 279.237 72.7967 279.109 67.7851C278.852 62.7734 274.74 60.2033 263.046 57.5047C240.043 52.236 227.964 43.6262 227.964 28.9766C227.964 11.6285 242.87 0.705631 265.744 0.705631C286.69 0.705631 301.212 13.4276 303.396 32.8318L278.595 33.8598C277.824 25.507 272.812 20.6238 264.973 20.6238C257.777 20.6238 252.894 24.0935 253.536 29.4907C253.922 34.8879 260.347 37.2009 268.957 39C291.702 43.2407 304.553 52.493 304.553 67.3995C304.553 85.0047 289.261 95.5421 267.543 95.5421C243.77 95.5421 227.578 83.2056 226.293 63.4159L251.352 62.2594ZM361.123 96.0561C332.209 96.0561 314.861 77.8084 314.861 48.5094C314.861 18.9533 332.209 0.705631 361.123 0.705631C390.036 0.705631 407.256 18.9533 407.256 48.5094C407.256 77.8084 390.036 96.0561 361.123 96.0561ZM340.948 48.5094C340.948 65.8575 348.272 75.8808 361.123 75.8808C374.102 75.8808 381.427 65.8575 381.427 48.5094C381.427 31.0327 374.102 20.8809 361.123 20.8809C348.272 20.8809 340.948 31.0327 340.948 48.5094ZM417.596 2.7617H443.168L473.367 54.9346V2.7617H498.682V94H472.339L442.911 44.5257V94H417.596V2.7617ZM541.442 33.0888C542.213 14.1986 557.119 0.705631 578.58 0.705631C599.14 0.705631 613.919 12.7851 613.919 29.6192C613.919 44.2687 602.225 51.722 590.659 58.0187C587.447 59.8178 572.54 67.271 571.769 73.8248H613.919V94H541.442C541.442 67.3995 553.521 53.6495 574.211 42.7266C583.206 37.5865 588.089 34.3738 588.089 29.2337C588.089 24.479 584.234 20.8809 578.58 20.8809C572.155 20.8809 568.171 25.6355 567.014 34.5023L541.442 33.0888Z"
          strokeWidth={2}
          stroke="url(#gradientStroke)"
          fill="url(#gradientStroke)"
          fillOpacity={0}
          animate={controls}
          initial={{ pathLength: 0, fillOpacity: 0, strokeOpacity: 1 }}
        />
        {/* Add more motion.path elements as needed */}
      </motion.svg>
    </div>
  );
}
